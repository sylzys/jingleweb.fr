jQuery(document).ready(function(d){$container=d("#works ul");var c=3;$container.isotope({resizable:true,itemSelector:".work",layoutMode:"masonry",masonry:{columnWidth:$container.width()/c}});d("#filters").on("click",".button",function(f){f.preventDefault();f.stopPropagation();d(this).addClass("active").siblings().removeClass("active");var g=d(this).attr("data-filter");$container.isotope({filter:g})});$msg="This field is mandatory";$form=d("#form");$form.isHappy({fields:{"#name":{required:true,message:$msg},"#email":{required:true,message:$msg+" and must be a valid email address",test:b},"#msg":{required:true,message:$msg,}}});function b(f){var g=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return g.test(f)}d("input",$form).focus(function(f){d(this).next(".unhappyMessage").remove()});d("textarea",$form).focus(function(f){d(this).next(".unhappyMessage").remove()});var e,a;d("a[href*=#]:not([href=#])").on("click",function(g){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){e=d(this.hash);e=e.length?e:d("[id="+this.hash.slice(1)+"]");if(e.length){if(typeof document.body.style.transitionProperty==="string"){g.preventDefault();var f=d(document).height()-d(window).height();a=e.offset().top;if(a>f){a=f}d("html").css({"margin-top":(d(window).scrollTop()-a)+"px",transition:"1s ease-in-out"}).data("transitioning",true)}else{d("html, body").animate({scrollTop:a},1000);return}}}});d("html").on("transitionend webkitTransitionEnd msTransitionEnd oTransitionEnd",function(f){if(f.target==f.currentTarget&&d(this).data("transitioning")===true){d(this).removeAttr("style").data("transitioning",false);d("html, body").scrollTop(a);return}})});